import{d as j,g as w,r as h,s as x,m as y,_ as l,e as S,f as $,j as o,h as b,k as N,p as J,q as he,t as q,P as k,i as Q,u as xe,b as me,a as ge,v as z,w as fe,c as be,L as ve,I as O,x as ye}from"./index-DHdyDlu3.js";import{B as Ce,M as De,P as Z,u as ke,F as je}from"./Modal-DLq5pqQc.js";import{a as we}from"./useControlled-7reWmhn_.js";import{T as Se}from"./Typography-DdDW4wBC.js";import{B as I}from"./Button-BKsD_Tdd.js";import{u as $e,C as Ne,d as Re,a as We,m as Me}from"./Cancel-DgrggpJt.js";import{r as ee}from"./createSvgIcon-DH0R85P_.js";import{C as Pe}from"./custom-breadcrumbs-B_aJ8Kc6.js";import"./createSvgIcon-Cpc0-o0B.js";import"./react-is.production.min-DUDD-a5e.js";function Be(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function _e(e){return parseFloat(e)}function Te(e){return w("MuiDialog",e)}const U=j("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),te=h.createContext({}),Ae=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Ue=x(Ce,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Ie=e=>{const{classes:t,scroll:a,maxWidth:s,fullWidth:i,fullScreen:n}=e,c={root:["root"],container:["container",`scroll${y(a)}`],paper:["paper",`paperScroll${y(a)}`,`paperWidth${y(String(s))}`,i&&"paperFullWidth",n&&"paperFullScreen"]};return N(c,Te,t)},Le=x(De,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Fe=x("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.container,t[`scroll${y(a.scroll)}`]]}})(({ownerState:e})=>l({height:"100%","@media print":{height:"auto"},outline:0},e.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},e.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),Ee=x(Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.paper,t[`scrollPaper${y(a.scroll)}`],t[`paperWidth${y(String(a.maxWidth))}`],a.fullWidth&&t.paperFullWidth,a.fullScreen&&t.paperFullScreen]}})(({theme:e,ownerState:t})=>l({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},t.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},t.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},t.maxWidth==="xs"&&{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${U.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&t.maxWidth!=="xs"&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${U.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${U.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),He=h.forwardRef(function(t,a){const s=S({props:t,name:"MuiDialog"}),i=ke(),n={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":c,"aria-labelledby":d,BackdropComponent:u,BackdropProps:m,children:C,className:g,disableEscapeKeyDown:f=!1,fullScreen:D=!1,fullWidth:B=!1,maxWidth:R="sm",onBackdropClick:W,onClick:r,onClose:p,open:E,PaperComponent:re=Z,PaperProps:H={},scroll:ie="paper",TransitionComponent:ne=je,transitionDuration:X=n,TransitionProps:le}=s,ce=$(s,Ae),M=l({},s,{disableEscapeKeyDown:f,fullScreen:D,fullWidth:B,maxWidth:R,scroll:ie}),_=Ie(M),T=h.useRef(),de=v=>{T.current=v.target===v.currentTarget},pe=v=>{r&&r(v),T.current&&(T.current=null,W&&W(v),p&&p(v,"backdropClick"))},A=we(d),ue=h.useMemo(()=>({titleId:A}),[A]);return o.jsx(Le,l({className:b(_.root,g),closeAfterTransition:!0,components:{Backdrop:Ue},componentsProps:{backdrop:l({transitionDuration:X,as:u},m)},disableEscapeKeyDown:f,onClose:p,open:E,ref:a,onClick:pe,ownerState:M},ce,{children:o.jsx(ne,l({appear:!0,in:E,timeout:X,role:"presentation"},le,{children:o.jsx(Fe,{className:b(_.container),onMouseDown:de,ownerState:M,children:o.jsx(Ee,l({as:re,elevation:24,role:"dialog","aria-describedby":c,"aria-labelledby":A},H,{className:b(_.paper,H.className),ownerState:M,children:o.jsx(te.Provider,{value:ue,children:C})}))})}))}))});function Xe(e){return w("MuiDialogActions",e)}j("MuiDialogActions",["root","spacing"]);const qe=["className","disableSpacing"],ze=e=>{const{classes:t,disableSpacing:a}=e;return N({root:["root",!a&&"spacing"]},Xe,t)},Oe=x("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,!a.disableSpacing&&t.spacing]}})(({ownerState:e})=>l({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),Ke=h.forwardRef(function(t,a){const s=S({props:t,name:"MuiDialogActions"}),{className:i,disableSpacing:n=!1}=s,c=$(s,qe),d=l({},s,{disableSpacing:n}),u=ze(d);return o.jsx(Oe,l({className:b(u.root,i),ownerState:d,ref:a},c))});function Ve(e){return w("MuiDialogContent",e)}j("MuiDialogContent",["root","dividers"]);function Ye(e){return w("MuiDialogTitle",e)}const Ge=j("MuiDialogTitle",["root"]),Je=["className","dividers"],Qe=e=>{const{classes:t,dividers:a}=e;return N({root:["root",a&&"dividers"]},Ve,t)},Ze=x("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dividers&&t.dividers]}})(({theme:e,ownerState:t})=>l({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${Ge.root} + &`]:{paddingTop:0}})),et=h.forwardRef(function(t,a){const s=S({props:t,name:"MuiDialogContent"}),{className:i,dividers:n=!1}=s,c=$(s,Je),d=l({},s,{dividers:n}),u=Qe(d);return o.jsx(Ze,l({className:b(u.root,i),ownerState:d,ref:a},c))}),tt=["className","id"],ot=e=>{const{classes:t}=e;return N({root:["root"]},Ye,t)},at=x(Se,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),st=h.forwardRef(function(t,a){const s=S({props:t,name:"MuiDialogTitle"}),{className:i,id:n}=s,c=$(s,tt),d=s,u=ot(d),{titleId:m=n}=h.useContext(te);return o.jsx(at,l({component:"h2",className:b(u.root,i),ownerState:d,ref:a,variant:"h6",id:n??m},c))});function rt(e){return w("MuiSkeleton",e)}j("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const it=["animation","className","component","height","style","variant","width"];let P=e=>e,K,V,Y,G;const nt=e=>{const{classes:t,variant:a,animation:s,hasChildren:i,width:n,height:c}=e;return N({root:["root",a,s,i&&"withChildren",i&&!n&&"fitContent",i&&!c&&"heightAuto"]},rt,t)},lt=J(K||(K=P`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),ct=J(V||(V=P`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),dt=x("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],a.animation!==!1&&t[a.animation],a.hasChildren&&t.withChildren,a.hasChildren&&!a.width&&t.fitContent,a.hasChildren&&!a.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const a=Be(e.shape.borderRadius)||"px",s=_e(e.shape.borderRadius);return l({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:he(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${s}${a}/${Math.round(s/.6*10)/10}${a}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&q(Y||(Y=P`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),lt),({ownerState:e,theme:t})=>e.animation==="wave"&&q(G||(G=P`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),ct,(t.vars||t).palette.action.hover)),pt=h.forwardRef(function(t,a){const s=S({props:t,name:"MuiSkeleton"}),{animation:i="pulse",className:n,component:c="span",height:d,style:u,variant:m="text",width:C}=s,g=$(s,it),f=l({},s,{animation:i,component:c,variant:m,hasChildren:!!g.children}),D=nt(f);return o.jsx(dt,l({as:c,ref:a,className:b(D.root,n),ownerState:f},g,{style:l({width:C,height:d},u)}))});function oe({title:e,content:t,action:a,open:s,onClose:i,...n}){return o.jsxs(He,{fullWidth:!0,sx:{fontFamily:"Public Sans, sans-serif"},maxWidth:"xs",open:s,onClose:i,...n,children:[o.jsx(st,{sx:{pb:1},children:e}),t&&o.jsxs(et,{sx:{typography:"body2"},children:[" ",t," "]}),o.jsxs(Ke,{sx:{p:2},children:[a,o.jsx(I,{variant:"outlined",color:"inherit",onClick:i,children:"Cancel"})]})]})}oe.propTypes={action:k.node,content:k.node,onClose:k.func,open:k.bool,title:k.string};var L={},ut=Q;Object.defineProperty(L,"__esModule",{value:!0});var ae=L.default=void 0,ht=ut(ee()),xt=o;ae=L.default=(0,ht.default)((0,xt.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var F={},mt=Q;Object.defineProperty(F,"__esModule",{value:!0});var se=F.default=void 0,gt=mt(ee()),ft=o;se=F.default=(0,gt.default)((0,ft.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete");const Nt=()=>{let{user:e}=xe();const{enqueueSnackbar:t}=me(),[a,s]=h.useState(!1),[i,n]=h.useState(""),c=ge(),d=`${z.blog.list}?authorId=${e==null?void 0:e._id}`,{data:u,isLoading:m,error:C}=$e(d,fe),g=C?[]:u==null?void 0:u.data,f=()=>{c("/blog/add")},D=r=>{s(!0),n(r)},B=r=>{c("/blog/update",{state:r})},R=({text:r,maxLength:p})=>r.length>p?`${r.substring(0,p)}...`:r,W=async()=>{const r=`${z.blog.delete}/${i}`;try{const p=await ye.delete(r);console.log("ðŸš€ ~ onDelete ~ response:",p),p.data.message&&(t("Delete success!."),Me(d),s(!1))}catch(p){console.log(p),t(p.error||"Something went wrong!",{variant:"error"}),s(!1)}};return o.jsxs("div",{className:"overflow-y-auto h-full",children:[o.jsx("div",{className:"Heading flex justify-between items-center ",children:o.jsx(Pe,{heading:"Blog List",links:[{name:"Home",href:"/home"},{name:"Blog",href:"/blog"},{name:"List"}],action:o.jsx(I,{variant:"contained",onClick:f,startIcon:o.jsx(be,{icon:"mingcute:add-line"}),sx:{borderRadius:"10px"},children:"Add Blog"}),sx:{mb:{xs:3,md:5}}})}),o.jsx("div",{className:"border-amber-500 my-5 overflow-x-auto",children:m?o.jsx(pt,{animation:"wave",variant:"rectangular",style:{width:"100%",height:"200px"}}):o.jsxs("table",{className:"table-auto text-left border-collapse bg-white shadow-md w-[100%] ",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-200 text-gray-700 uppercase text-sm",children:[o.jsx("th",{className:"px-4 py-2 border-b",children:"#"}),o.jsx("th",{className:"px-4 py-2 border-b",children:"Title"}),o.jsx("th",{className:"px-4 py-2 border-b",children:"Body"}),o.jsx("th",{className:"px-4 py-2 border-b text-center",children:"Category"}),o.jsx("th",{className:"px-4 py-2 border-b text-center",children:"Status"}),o.jsx("th",{className:"px-4 py-2 border-b",children:"Actions"})]})}),o.jsx("tbody",{children:g.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"text-center py-4 text-gray-600",children:"No blogs available! Please click on ADD BLOG to create."})}):g.map((r,p)=>o.jsxs("tr",{className:"hover:bg-gray-100",children:[o.jsx("td",{className:"px-4 py-2 border-b",children:p+1}),o.jsx("td",{className:"px-4 py-2 border-b font-bold  hover:cursor-pointer",children:o.jsx(ve,{to:`/blog/${r._id}`,children:r.title})}),o.jsx("td",{className:"px-4 py-2 border-b",children:o.jsx(R,{text:r.body,maxLength:30})}),o.jsx("td",{className:"px-4 py-2 border-b text-center",children:o.jsx(R,{text:r.category,maxLength:30})}),o.jsx("td",{className:"px-4 py-2 border-b text-center",children:o.jsx(Ne,{label:r.isPublished?"PUBLISHED":"NOT PUBLISHED",color:r.isPublished?"success":"error",icon:r.isPublished?o.jsx(Re,{style:{color:"white"}}):o.jsx(We,{style:{color:"white"}}),className:`inline-flex items-center px-3 py-1 rounded-full text-white text-xs font-bold shadow-md ${r.isPublished?"bg-green-500":"bg-red-500"}`})}),o.jsxs("td",{className:"px-4 py-2 border-b",children:[o.jsx(O,{onClick:()=>B(r),color:"success",children:o.jsx(ae,{})}),o.jsx(O,{onClick:()=>D(r._id),color:"error",children:o.jsx(se,{})})]})]},r._id))})]})}),o.jsx(oe,{open:a,onClose:()=>s(!1),title:"Delete",content:"Are you sure want to delete this blog?",action:o.jsx(I,{variant:"contained",color:"error",onClick:()=>W(),children:"Delete"})})]})};export{Nt as default};
