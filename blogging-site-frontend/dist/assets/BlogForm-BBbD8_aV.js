import{j as i,d as _,g as q,s as F,l as Y,m as I,_ as f,n as ee,r as b,e as U,f as A,h as K,k as D,y as te,z as N,A as M,B as oe,b as se,a as ne,I as re,C as L,w as O}from"./index-BAqBkSAZ.js";import{d as ie}from"./ArrowBack-C_2pXwrj.js";import{S as ae,c as ce,a as k,u as le,C as H,F as de,o as ue}from"./yup-eKgwrxKk.js";import{u as pe}from"./CircularProgress-Dg9QG7AJ.js";import{c as W}from"./createSvgIcon-CL3AUfST.js";import{L as me,T as xe}from"./LoadingButton-B5wJkGza.js";import{B as fe}from"./Button-dVuWy5wV.js";import"./createSvgIcon-CHOX59dG.js";const ge=W(i.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),he=W(i.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),be=W(i.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function ve(e){return q("MuiCheckbox",e)}const P=_("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),ye=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],ke=e=>{const{classes:t,indeterminate:s,color:o,size:n}=e,r={root:["root",s&&"indeterminate",`color${I(o)}`,`size${I(n)}`]},c=D(r,ve,t);return f({},t,c)},Ce=F(ae,{shouldForwardProp:e=>Y(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.indeterminate&&t.indeterminate,t[`size${I(s.size)}`],s.color!=="default"&&t[`color${I(s.color)}`]]}})(({theme:e,ownerState:t})=>f({color:(e.vars||e).palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${t.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:ee(t.color==="default"?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},t.color!=="default"&&{[`&.${P.checked}, &.${P.indeterminate}`]:{color:(e.vars||e).palette[t.color].main},[`&.${P.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),$e=i.jsx(he,{}),je=i.jsx(ge,{}),Se=i.jsx(be,{}),we=b.forwardRef(function(t,s){var o,n;const r=U({props:t,name:"MuiCheckbox"}),{checkedIcon:c=$e,color:l="primary",icon:u=je,indeterminate:d=!1,indeterminateIcon:a=Se,inputProps:m,size:p="medium",className:x}=r,y=A(r,ye),S=d?a:u,w=d?a:c,h=f({},r,{color:l,indeterminate:d,size:p}),B=ke(h);return i.jsx(Ce,f({type:"checkbox",inputProps:f({"data-indeterminate":d},m),icon:b.cloneElement(S,{fontSize:(o=S.props.fontSize)!=null?o:p}),checkedIcon:b.cloneElement(w,{fontSize:(n=w.props.fontSize)!=null?n:p}),ownerState:h,ref:s,className:K(B.root,x)},y,{classes:B}))}),T=b.createContext();function Be(e){return q("MuiGrid",e)}const ze=[0,1,2,3,4,5,6,7,8,9,10],Ie=["column-reverse","column","row-reverse","row"],Ne=["nowrap","wrap-reverse","wrap"],C=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],j=_("MuiGrid",["root","container","item","zeroMinWidth",...ze.map(e=>`spacing-xs-${e}`),...Ie.map(e=>`direction-xs-${e}`),...Ne.map(e=>`wrap-xs-${e}`),...C.map(e=>`grid-xs-${e}`),...C.map(e=>`grid-sm-${e}`),...C.map(e=>`grid-md-${e}`),...C.map(e=>`grid-lg-${e}`),...C.map(e=>`grid-xl-${e}`)]),Pe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function v(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Me({theme:e,ownerState:t}){let s;return e.breakpoints.keys.reduce((o,n)=>{let r={};if(t[n]&&(s=t[n]),!s)return o;if(s===!0)r={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(s==="auto")r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const c=N({values:t.columns,breakpoints:e.breakpoints.values}),l=typeof c=="object"?c[n]:c;if(l==null)return o;const u=`${Math.round(s/l*1e8)/1e6}%`;let d={};if(t.container&&t.item&&t.columnSpacing!==0){const a=e.spacing(t.columnSpacing);if(a!=="0px"){const m=`calc(${u} + ${v(a)})`;d={flexBasis:m,maxWidth:m}}}r=f({flexBasis:u,flexGrow:0,maxWidth:u},d)}return e.breakpoints.values[n]===0?Object.assign(o,r):o[e.breakpoints.up(n)]=r,o},{})}function We({theme:e,ownerState:t}){const s=N({values:t.direction,breakpoints:e.breakpoints.values});return M({theme:e},s,o=>{const n={flexDirection:o};return o.indexOf("column")===0&&(n[`& > .${j.item}`]={maxWidth:"none"}),n})}function Z({breakpoints:e,values:t}){let s="";Object.keys(t).forEach(n=>{s===""&&t[n]!==0&&(s=n)});const o=Object.keys(e).sort((n,r)=>e[n]-e[r]);return o.slice(0,o.indexOf(s))}function Ge({theme:e,ownerState:t}){const{container:s,rowSpacing:o}=t;let n={};if(s&&o!==0){const r=N({values:o,breakpoints:e.breakpoints.values});let c;typeof r=="object"&&(c=Z({breakpoints:e.breakpoints.values,values:r})),n=M({theme:e},r,(l,u)=>{var d;const a=e.spacing(l);return a!=="0px"?{marginTop:`-${v(a)}`,[`& > .${j.item}`]:{paddingTop:v(a)}}:(d=c)!=null&&d.includes(u)?{}:{marginTop:0,[`& > .${j.item}`]:{paddingTop:0}}})}return n}function Ve({theme:e,ownerState:t}){const{container:s,columnSpacing:o}=t;let n={};if(s&&o!==0){const r=N({values:o,breakpoints:e.breakpoints.values});let c;typeof r=="object"&&(c=Z({breakpoints:e.breakpoints.values,values:r})),n=M({theme:e},r,(l,u)=>{var d;const a=e.spacing(l);return a!=="0px"?{width:`calc(100% + ${v(a)})`,marginLeft:`-${v(a)}`,[`& > .${j.item}`]:{paddingLeft:v(a)}}:(d=c)!=null&&d.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${j.item}`]:{paddingLeft:0}}})}return n}function Re(e,t,s={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[s[`spacing-xs-${String(e)}`]];const o=[];return t.forEach(n=>{const r=e[n];Number(r)>0&&o.push(s[`spacing-${n}-${String(r)}`])}),o}const Ee=F("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e,{container:o,direction:n,item:r,spacing:c,wrap:l,zeroMinWidth:u,breakpoints:d}=s;let a=[];o&&(a=Re(c,d,t));const m=[];return d.forEach(p=>{const x=s[p];x&&m.push(t[`grid-${p}-${String(x)}`])}),[t.root,o&&t.container,r&&t.item,u&&t.zeroMinWidth,...a,n!=="row"&&t[`direction-xs-${String(n)}`],l!=="wrap"&&t[`wrap-xs-${String(l)}`],...m]}})(({ownerState:e})=>f({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),We,Ge,Ve,Me);function Le(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const s=[];return t.forEach(o=>{const n=e[o];if(Number(n)>0){const r=`spacing-${o}-${String(n)}`;s.push(r)}}),s}const Oe=e=>{const{classes:t,container:s,direction:o,item:n,spacing:r,wrap:c,zeroMinWidth:l,breakpoints:u}=e;let d=[];s&&(d=Le(r,u));const a=[];u.forEach(p=>{const x=e[p];x&&a.push(`grid-${p}-${String(x)}`)});const m={root:["root",s&&"container",n&&"item",l&&"zeroMinWidth",...d,o!=="row"&&`direction-xs-${String(o)}`,c!=="wrap"&&`wrap-xs-${String(c)}`,...a]};return D(m,Be,t)},g=b.forwardRef(function(t,s){const o=U({props:t,name:"MuiGrid"}),{breakpoints:n}=pe(),r=te(o),{className:c,columns:l,columnSpacing:u,component:d="div",container:a=!1,direction:m="row",item:p=!1,rowSpacing:x,spacing:y=0,wrap:S="wrap",zeroMinWidth:w=!1}=r,h=A(r,Pe),B=x||y,J=u||y,Q=b.useContext(T),G=a?l||12:Q,V={},R=f({},h);n.keys.forEach(z=>{h[z]!=null&&(V[z]=h[z],delete R[z])});const E=f({},r,{columns:G,container:a,direction:m,item:p,rowSpacing:B,columnSpacing:J,wrap:S,zeroMinWidth:w,spacing:y},V,{breakpoints:n.keys}),X=Oe(E);return i.jsx(T.Provider,{value:G,children:i.jsx(Ee,f({ownerState:E,className:K(X.root,c),as:d,ref:s},R))})}),Te=ce().shape({title:k().required("Title is required"),tags:k(),category:k().required("Category is required"),subcategory:k(),body:k().required("Body is required")}),$=({name:e,control:t,label:s,defaultValue:o,...n})=>i.jsx(H,{name:e,control:t,defaultValue:o,render:({field:r,fieldState:{error:c}})=>i.jsx(xe,{...r,sx:{"& .MuiOutlinedInput-root":{borderRadius:"12px"}},label:s,fullWidth:!0,error:!!c,helperText:c?c.message:"",...n})}),Ze=()=>{const{state:e}=oe(),{enqueueSnackbar:t}=se(),s=ne();let o,n;e?(n=e._id,o="edit"):o="add";const r={title:e?e.title:"",tags:e?e.tags.join(","):"",category:e?e.category:"",subcategory:e?e.subcategory.join(","):"",body:e?e.body:"",isPublished:e?e.isPublished:!1},{handleSubmit:c,control:l,formState:{isSubmitting:u}}=le({resolver:ue(Te),defaultValues:r}),d=async a=>{const m=o==="add"?O.blog.add:`${O.blog.update}/${n}`;try{const p={title:a.title,tags:a.tags.split(","),category:a.category,subcategory:a.subcategory.split(","),body:a.body,isPublished:a.isPublished};(o==="add"?await L.post(m,p):await L.put(m,p)).data.status&&(t(o==="add"?"Blog added successfully!":"Blog updated successfully!"),s(-1))}catch(p){t(p.error||"Something went wrong!",{variant:"error"})}};return i.jsxs("div",{className:"flex  items-center h-screen flex-col",children:[i.jsxs("div",{className:"blog-page-header flex justify-start items-center w-full gap-x-10",children:[i.jsx("div",{children:i.jsx(re,{onClick:()=>s(-1),children:i.jsx(ie,{})})}),i.jsx("h1",{className:"text-2xl my-10 font-bold",children:o==="add"?"Create Blog":"Update Blog"})]}),i.jsxs(g,{className:"blog-form",spacing:2,style:{width:"50%",mt:2},container:!0,children:[i.jsx(g,{item:!0,xs:12,md:6,children:i.jsx($,{name:"title",control:l,label:"Title",required:!0})}),i.jsx(g,{item:!0,xs:12,md:6,children:i.jsx($,{name:"tags",control:l,label:"Tags"})}),i.jsx(g,{item:!0,xs:12,md:6,children:i.jsx($,{name:"category",control:l,label:"Category",required:!0})}),i.jsx(g,{item:!0,xs:12,md:6,children:i.jsx($,{name:"subcategory",control:l,label:"Subcategory"})}),i.jsx(g,{item:!0,xs:12,children:i.jsx($,{name:"body",required:!0,control:l,label:"Body",multiline:!0,rows:6})}),i.jsx(g,{item:!0,xs:12,md:12,lg:12,children:i.jsx(H,{name:"isPublished",control:l,defaultValue:r.isPublished,render:({field:a})=>i.jsx(de,{control:i.jsx(we,{...a,checked:a.value,color:"primary"}),label:"Do you want to publish this blog?"})})}),i.jsxs(g,{item:!0,xs:12,sx:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[i.jsx(me,{fullWidth:!0,color:"success",onClick:c(d),variant:"contained",sx:{borderRadius:"10px",width:"150px"},loading:u,children:o==="add"?"ADD BLOG":"UPDATE BLOG"}),i.jsx(fe,{variant:"contained",sx:{borderRadius:"10px"},color:"error",onClick:()=>{s(-1)},children:"CANCEL"})]})]})]})};export{Ze as default};
