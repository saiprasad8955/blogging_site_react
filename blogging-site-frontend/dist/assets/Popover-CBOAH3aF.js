import{r,f as F,ab as Rt,o as gt,j as U,_ as y,g as Ct,d as St,s as Pt,e as Lt,h as lt,k as Ot}from"./index-DHdyDlu3.js";import{u as zt,T as _t,r as Dt,a as ct,M as jt,P as Ht}from"./Modal-DLq5pqQc.js";import{b as ut,o as pt,d as At}from"./createSvgIcon-Cpc0-o0B.js";import{u as dt,i as Mt}from"./Typography-DdDW4wBC.js";const Wt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function J(e){return`scale(${e}, ${e**2})`}const $t={entering:{opacity:1,transform:J(1)},entered:{opacity:1,transform:"none"}},Y=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),vt=r.forwardRef(function(t,s){const{addEndListener:_,appear:M=!0,children:L,easing:R,in:W,onEnter:c,onEntered:C,onEntering:$,onExit:T,onExited:G,onExiting:B,style:D,timeout:m="auto",TransitionComponent:a=_t}=t,g=F(t,Wt),I=Rt(),w=r.useRef(),p=zt(),P=r.useRef(null),j=gt(P,L.ref,s),v=o=>d=>{if(o){const f=P.current;d===void 0?o(f):o(f,d)}},k=v($),H=v((o,d)=>{Dt(o);const{duration:f,delay:S,easing:u}=ct({style:D,timeout:m,easing:R},{mode:"enter"});let b;m==="auto"?(b=p.transitions.getAutoHeightDuration(o.clientHeight),w.current=b):b=f,o.style.transition=[p.transitions.create("opacity",{duration:b,delay:S}),p.transitions.create("transform",{duration:Y?b:b*.666,delay:S,easing:u})].join(","),c&&c(o,d)}),N=v(C),K=v(B),E=v(o=>{const{duration:d,delay:f,easing:S}=ct({style:D,timeout:m,easing:R},{mode:"exit"});let u;m==="auto"?(u=p.transitions.getAutoHeightDuration(o.clientHeight),w.current=u):u=d,o.style.transition=[p.transitions.create("opacity",{duration:u,delay:f}),p.transitions.create("transform",{duration:Y?u:u*.666,delay:Y?f:f||u*.333,easing:S})].join(","),o.style.opacity=0,o.style.transform=J(.75),T&&T(o)}),A=v(G),V=o=>{m==="auto"&&I.start(w.current||0,o),_&&_(P.current,o)};return U.jsx(a,y({appear:M,in:W,nodeRef:P,onEnter:H,onEntered:N,onEntering:k,onExit:E,onExited:A,onExiting:K,addEndListener:V,timeout:m==="auto"?null:m},g,{children:(o,d)=>r.cloneElement(L,y({style:y({opacity:0,transform:J(.75),visibility:o==="exited"&&!W?"hidden":void 0},$t[o],D,L.props.style),ref:j},d))}))});vt.muiSupportAuto=!0;const qt=r.createContext({});function kt(e){return Ct("MuiPopover",e)}St("MuiPopover",["root","paper"]);const Nt=["onEntering"],Ft=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ut=["slotProps"];function ft(e,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=e.height/2:t==="bottom"&&(s=e.height),s}function ht(e,t){let s=0;return typeof t=="number"?s=t:t==="center"?s=e.width/2:t==="right"&&(s=e.width),s}function mt(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function q(e){return typeof e=="function"?e():e}const Gt=e=>{const{classes:t}=e;return Ot({root:["root"],paper:["paper"]},kt,t)},Bt=Pt(jt,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),It=Pt(Ht,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Jt=r.forwardRef(function(t,s){var _,M,L;const R=Lt({props:t,name:"MuiPopover"}),{action:W,anchorEl:c,anchorOrigin:C={vertical:"top",horizontal:"left"},anchorPosition:$,anchorReference:T="anchorEl",children:G,className:B,container:D,elevation:m=8,marginThreshold:a=16,open:g,PaperProps:I={},slots:w,slotProps:p,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:j=vt,transitionDuration:v="auto",TransitionProps:{onEntering:k}={},disableScrollLock:H=!1}=R,N=F(R.TransitionProps,Nt),K=F(R,Ft),E=(_=p==null?void 0:p.paper)!=null?_:I,A=r.useRef(),V=gt(A,E.ref),o=y({},R,{anchorOrigin:C,anchorReference:T,elevation:m,marginThreshold:a,externalPaperSlotProps:E,transformOrigin:P,TransitionComponent:j,transitionDuration:v,TransitionProps:N}),d=Gt(o),f=r.useCallback(()=>{if(T==="anchorPosition")return $;const n=q(c),l=(n&&n.nodeType===1?n:ut(A.current).body).getBoundingClientRect();return{top:l.top+ft(l,C.vertical),left:l.left+ht(l,C.horizontal)}},[c,C.horizontal,C.vertical,$,T]),S=r.useCallback(n=>({vertical:ft(n,P.vertical),horizontal:ht(n,P.horizontal)}),[P.horizontal,P.vertical]),u=r.useCallback(n=>{const i={width:n.offsetWidth,height:n.offsetHeight},l=S(i);if(T==="none")return{top:null,left:null,transformOrigin:mt(l)};const et=f();let O=et.top-l.vertical,z=et.left-l.horizontal;const nt=O+i.height,rt=z+i.width,it=pt(q(c)),st=it.innerHeight-a,at=it.innerWidth-a;if(a!==null&&O<a){const h=O-a;O-=h,l.vertical+=h}else if(a!==null&&nt>st){const h=nt-st;O-=h,l.vertical+=h}if(a!==null&&z<a){const h=z-a;z-=h,l.horizontal+=h}else if(rt>at){const h=rt-at;z-=h,l.horizontal+=h}return{top:`${Math.round(O)}px`,left:`${Math.round(z)}px`,transformOrigin:mt(l)}},[c,T,f,S,a]),[b,Q]=r.useState(g),x=r.useCallback(()=>{const n=A.current;if(!n)return;const i=u(n);i.top!==null&&(n.style.top=i.top),i.left!==null&&(n.style.left=i.left),n.style.transformOrigin=i.transformOrigin,Q(!0)},[u]);r.useEffect(()=>(H&&window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)),[c,H,x]);const Et=(n,i)=>{k&&k(n,i),x()},xt=()=>{Q(!1)};r.useEffect(()=>{g&&x()}),r.useImperativeHandle(W,()=>g?{updatePosition:()=>{x()}}:null,[g,x]),r.useEffect(()=>{if(!g)return;const n=At(()=>{x()}),i=pt(c);return i.addEventListener("resize",n),()=>{n.clear(),i.removeEventListener("resize",n)}},[c,g,x]);let Z=v;v==="auto"&&!j.muiSupportAuto&&(Z=void 0);const yt=D||(c?ut(q(c)).body:void 0),X=(M=w==null?void 0:w.root)!=null?M:Bt,tt=(L=w==null?void 0:w.paper)!=null?L:It,Tt=dt({elementType:tt,externalSlotProps:y({},E,{style:b?E.style:y({},E.style,{opacity:0})}),additionalProps:{elevation:m,ref:V},ownerState:o,className:lt(d.paper,E==null?void 0:E.className)}),ot=dt({elementType:X,externalSlotProps:(p==null?void 0:p.root)||{},externalForwardedProps:K,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:yt,open:g},ownerState:o,className:lt(d.root,B)}),{slotProps:wt}=ot,bt=F(ot,Ut);return U.jsx(X,y({},bt,!Mt(X)&&{slotProps:wt,disableScrollLock:H},{children:U.jsx(j,y({appear:!0,in:g,onEntering:Et,onExited:xt,timeout:Z},N,{children:U.jsx(tt,y({},Tt,{children:G}))}))}))});export{qt as L,Jt as P,It as a};
